<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="/assets/img/favicon.png">
    <title>
        IMDB Clone
    </title>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <!-- Nucleo Icons -->
    <link href="/assets/css/nucleo-icons.css" rel="stylesheet" />
    <!-- CSS Files -->
    <link href="/assets/css/blk-design-system-pro.css?v=1.0.0" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="/assets/demo/demo.css" rel="stylesheet" />
    <style>
        .tooltip-inner {
            text-align: left;
        }
    </style>
</head>

<body class="register-page">
<!-- Navbar -->
<!-- End Navbar -->
<div class="wrapper">
    <div class="page-header">
        <div class="page-header-image"></div>
        <div class="container">
            <div class="row">
                <div class="col-lg-7 col-md-12 mx-auto">
                    <div id="square7" class="square square-7"></div>
                    <div id="square8" class="square square-8"></div>
                    <div class="card card-register">
                        <div class="card-header">
                            <img class="card-img" src="/assets/img/square1.png" alt="Card image">
                            <h4 class="card-title register-title">Register</h4>
                        </div>
                        <div class="card-body">
                            <form class="form" id="frmRegister" autocomplete="off">
                                <div class="input-group" input-group="txtFullName">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i class="tim-icons icon-single-02"></i>
                                        </div>
                                    </div>
                                    <input type="text" error-message="This field is required!" id="txtFullName" class="form-control required validation-nospace" placeholder="Full Name">
                                </div>

                                <div class="input-group" input-group="txtEmail">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i class="tim-icons icon-email-85"></i>
                                        </div>
                                    </div>
                                    <input type="text" error-message="This field is required!" placeholder="Email" id="txtEmail" class="form-control required validation-nospace">
                                </div>

                                <div class="input-group" input-group="txtPassword">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i class="tim-icons icon-lock-circle"></i>
                                        </div>
                                    </div>
                                    <input type="password" error-message="This field is required!" data-toggle="tooltip" data-html="true" data-placement="bottom" title="<div style='color: red'><b class='text-danger'>✖&nbsp;Password should have at least 8 characters.</b><br><b class='text-danger'>✖&nbsp;Password should contain an uppercase letter.</b><br><b class='text-danger'>✖&nbsp;Password should contain a lowercase letter.</b><br><b class='text-danger'>✖&nbsp;Password should contain a number.</b><br><b class='text-danger'>✖&nbsp;Password should contain a special character.</b></div>" error-message="" class="required form-control validation-password" id="txtPassword" placeholder="Password">
                                </div>
                                <div class="input-group" input-group="txtConfirmPassword">
                                    <div class="input-group-prepend">
                                        <div class="input-group-text">
                                            <i class="tim-icons icon-lock-circle"></i>
                                        </div>
                                    </div>
                                    <input type="password" match-for="txtPassword" data-toggle="tooltip" data-html="true" data-placement="bottom" title="<b class='text-danger'>✖&nbsp;Passwords should match!</b>" id="txtConfirmPassword" error-message="This field is required!" class="required form-control validation-password-suplement" placeholder="Confirm password">
                                </div>
                                <div class="form-check text-left" input-group="chbAccept">
                                    <label class="form-check-label">
                                        <input class="form-check-input required" type="checkbox" id="chbAccept" error-message="This field is required">
                                        <span class="form-check-sign"></span>
                                        I accept
                                        <a href="javascript:void(0)">terms and conditions</a>.
                                    </label>
                                </div>
                            </form>
                            <div class="card-footer">
                                <input type="submit" form="frmRegister" class="btn btn-info btn-round btn-lg" value="Register">
                            </div>

                            <div class="form-check text-left">
                                <label class="form-check-label pl-0">
                                    If you have an account 
                                    <a href="/">sign in here</a>.
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="register-bg"></div>
        <div id="square1" class="square square-1"></div>
        <div id="square2" class="square square-2"></div>
        <div id="square3" class="square square-3"></div>
        <div id="square4" class="square square-4"></div>
        <div id="square5" class="square square-5"></div>
        <div id="square6" class="square square-6"></div>
    </div>

</div>
<input type="hidden" hidden-for="frmRegister" value="" />
<!--   Core JS Files   -->
<script src="/assets/js/core/jquery.min.js" type="text/javascript"></script>
<script src="/assets/js/core/popper.min.js" type="text/javascript"></script>
<script src="/assets/js/core/bootstrap.min.js" type="text/javascript"></script>
<script src="/assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
<!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
<script src="/assets/js/plugins/bootstrap-switch.js"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="/assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
<!--  Plugin for the Carousel, full documentation here: http://kenwheeler.github.io/slick/ -->
<script src="/assets/js/plugins/slick.js" type="text/javascript"></script>
<!--  Plugin for the blob animation -->
<script src="/assets/js/plugins/anime.min.js" type="text/javascript"></script>
<!-- Chart JS -->
<script src="/assets/js/plugins/chartjs.min.js"></script>
<!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
<script src="/assets/js/plugins/moment.min.js"></script>
<!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
<script src="/assets/js/plugins/bootstrap-tagsinput.js"></script>
<!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
<script src="/assets/js/plugins/bootstrap-selectpicker.js" type="text/javascript"></script>
<!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
<script src="/assets/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>
<!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script src="/assets/js/plugins/jasny-bootstrap.min.js"></script>
<!-- Black Dashboard DEMO methods, don't include it in your project! -->
<script src="/assets/demo/demo.js"></script>
<!-- Control Center for Black UI Kit: parallax effects, scripts for the example pages etc -->
<!--  Google Maps Plugin    -->
<script src="/assets/js/blk-design-system-pro.min.js?v=1.0.0" type="text/javascript"></script>
<script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
<script src="/assets/js/extra/validations.js"></script>
<script>


    $(`#frmRegister`).submit(function (e) {
        var elem = $(`[hidden-for="frmRegister"]`);
        var hasErrors = elem.val();
        var jObject = {
                    FullName: $(`#txtFullName`).val(),
                    Email: $(`#txtEmail`).val(),
                    Password: $(`#txtPassword`).val(),
                    ConfirmPassword: $(`#txtConfirmPassword`).val()
                }
        if (hasErrors != "true") {
            $.ajax({
                type: 'POST',
                dataType: 'json',
                url: "https://localhost:5001/api/registration",
                headers: {
                    "content-type": "application/json;charset=UTF-8" // Add this line
                },
                data: JSON.stringify(jObject),
                success: function (result) {
                    sessionStorage.setItem("IMDB_A_C_E_Saved", result.token);
                        location.href = "/home.html";
                },
                error: function (result) {
                    console.log(result.success);
                }

            })
            return true;
        }
        e.preventDefault();
        return false;
    })
</script>
</body>

</html>